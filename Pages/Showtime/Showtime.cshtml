@page "/Showtimes/Index"
@model ShowtimeModel
@{
    ViewData["Title"] = "Seanse";
}
@using System.Security.Claims
@{
    Layout = "_Layout";
}
<h1>@ViewData["Title"]</h1>

@if (Model != null && Model.Showtimes != null)
{
    <ul id="showul">
        @foreach (var showtime in Model.Showtimes)
        {
            <li id="showli" data-movie-id="@showtime.Id">
                <p>Dzień: @showtime.ShowDate.ToString("D")</p>
                <p>Godzina: @showtime.ShowTime.ToString("t")</p>
                <form method="post" action="@Url.Action("OnPostPurchaseTicket", "Ticket")">
                    <input type="hidden" name="ShowtimeId" value="@showtime.Id" />
 					<input type="hidden" name="UserId" value="@ViewBag.userId" />
					<button class="buy-button" asp-page="/BuyTicket" >Kup bilet</button>
                </form>
            </li>
        }
    </ul>
}
else
{
    <p>No showtimes available for this movie.</p>
}

<style>
    #showul {
        list-style: none;
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin: 10px;
        justify-content: flex-start;
    }

    #showli {
        text-align: center; /* Wyśrodkowanie zawartości */
        width: 200px;
        padding: 10px;
        border: none; /* Usunięcie ramki */
        background-color: #f5f5f5;
        border-radius: 10px;
        margin-bottom: 20px;
    }

    #showli p {
        margin: 5px 0;
        font-size: 14px;
    }

    .buy-button {
        background-color: #4caf50;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 3px;
        cursor: pointer;
    }

    .buy-button:hover {
        background-color: #45a049;
    }
</style>
